<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" /><title>2.3. Building and Installing on Windows (MinGW tools)</title><link rel="stylesheet" href="stylesheet.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.75.2" /><link rel="home" href="index.html" title="Pgtcl Reference Manual" /><link rel="up" href="pgtcl-make.html" title="Chapter 2. Building and Installing pgtcl-ng" /><link rel="prev" href="pgtcl-make-bcc.html" title="2.2. Building and Installing on Windows Systems (Borland Compiler)" /><link rel="next" href="pgtcl-make-macos.html" title="2.4. Building and Installing on MacOS 10" /><link rel="copyright" href="legalnotice.html" title="Legal Notice" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2.3. Building and Installing on Windows (MinGW tools)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="pgtcl-make-bcc.html">Prev</a> </td><th width="60%" align="center">Chapter 2. Building and Installing <span class="application">pgtcl-ng</span></th><td width="20%" align="right"> <a accesskey="n" href="pgtcl-make-macos.html">Next</a></td></tr></table><hr /></div><div class="sect1" title="2.3. Building and Installing on Windows (MinGW tools)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="pgtcl-make-mingw"></a>2.3. Building and Installing on Windows (MinGW tools)</h2></div></div></div><div class="abstract"><p class="title"><b></b></p><p>
This section describes how to build and install
<span class="application">pgtcl-ng</span> on Windows systems using MinGW.
Building on Windows systems is less automated than on Unix-like systems,
and you are advised to fetch a binary release instead of building it
yourself. If you get a binary release, follow the instructions in the
release to install it.
If you want to compile your own <span class="application">pgtcl-ng</span>
using MinGW, read the following sections.
A Makefile for MinGW is supplied in the source release.
You will edit and use the Makefile to build
<span class="application">pgtcl-ng</span> for Windows, as described below.
  </p></div><div class="sect2" title="2.3.1. Prerequisites for Windows Systems (MinGW tools)"><div class="titlepage"><div><div><h3 class="title"><a id="pgtcl-make-mingw-prereq"></a>2.3.1. Prerequisites for Windows Systems (MinGW tools)</h3></div></div></div><p>
Here are the prerequisites for building pgtcl-ng on Windows using MinGW.
Note that specific versions of each product are mentioned. Newer versions
will probably work, and older versions are less likely to work.
The versions listed here have been tested.
  </p><p>
To build <span class="application">pgtcl-ng</span> on Windows with MinGW tools,
you need:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
<a class="ulink" href="http://www.activestate.com" target="_top">ActiveState</a>

ActiveTcl Tcl/Tk version 8.5.8, installed with libraries and header files.
Note: You may be able to use a MinGW-built Tcl/Tk instead, but this has not
been tested.
    </p></li><li class="listitem"><p>
<a class="ulink" href="http://mingw.org" target="_top">MinGW</a>

tools, installed. The exact minimum package requirements are not clear,
but you just need to be able to compile programs with GCC.
These packages were used: binutils, gcc-4.5.x, gcc-core, libgcc,
libgmp, libmpc, libmpfr, libpthread, make, mingwrt, and w32api.
    </p></li><li class="listitem"><p>
<a class="ulink" href="http://www.enterprisedb.com/" target="_top">EnterpriseDB PostgreSQL for
Windows</a>

8.4.4 binary release. You may download the Zip file instead of using the
installer if you aren't actually going to run the PostgreSQL server on Windows.
(Go to http://www.postgresql.org and follow the links to Downloads, then
Windows to get to the EnterpriseDB Zip package.)
All you need from the download is the include files and the library files
(include and bin directories).
You do not need PostgreSQL sources.
Note: You may be able to use a MinGW-built PostgreSQL instead, but this has not
been tested.
    </p></li></ul></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
An alternative to using MinGW on Windows is to use the Borland compiler.
<span class="ifnotalone">
Refer to <a class="xref" href="pgtcl-make-bcc.html" title="2.2. Building and Installing on Windows Systems (Borland Compiler)">Section 2.2, &#8220;Building and Installing on Windows Systems (Borland Compiler)&#8221;</a> for more information.
</span>

  </p></div></div><div class="sect2" title="2.3.2. Building and Installing - Windows Systems (MinGW tools)"><div class="titlepage"><div><div><h3 class="title"><a id="pgtcl-make-mingw-make"></a>2.3.2. Building and Installing - Windows Systems (MinGW tools)</h3></div></div></div><p>
To build with MinGW, simply edit the Makefile <code class="filename">mingw.mak</code>
with any text editor and set the pathnames as shown below.
Note that you can use either forward (/) or backward (\) slashes when
specifying pathnames in this Makefile.
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
Change directory to the unpacked <span class="application">pgtclng</span> source
distribution. For example:
    </p><pre class="screen">
<code class="prompt">C:\&gt; </code> <strong class="userinput"><code>cd c:\src\pgtcl</code></strong>
</pre><p>
Edit the file <code class="filename">mingw.mak</code> as follows:
      </p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
Define <code class="literal">PGSQL</code> to point to the top-level directory
of your PostgreSQL installation.
          </p></li><li class="listitem"><p>
Define <code class="literal">TCL</code> to point to the top of your Tcl installation
directory.
          </p></li><li class="listitem"><p>
Check the TCLLIB definition in the Makefile and the associated comments.
If you are not building with Tcl stubs, make the changes indicated in the
file.
          </p></li></ol></div><p>
    </p><p>
Now build libpgtcl:
    </p><pre class="screen">
<code class="prompt">C:\&gt; </code> <strong class="userinput"><code>mingw32-make -f mingw.mak</code></strong>
</pre><p>
This will create the file <code class="filename">libpgtcl.dll</code>.
    </p></li></ol></div><p>
To use <span class="application">pgtcl</span> on Windows, you will need the
<code class="filename">libpgtcl.dll</code> and also the EnterpriseDB PostgreSQL
loadable libraries. The main dependency is the front-end library
<code class="filename">libpq.dll</code>, but that has other dependent libraries
which are distributed with EnterpriseDB's PostgreSQL. In order to run
<span class="application">pgtcl</span> applications, you should have the entire
EnterpriseDB PostgreSQL distribution <code class="filename">bin</code> directory,
and it must be in your PATH before loading libpgtcl.dll.

<span class="ifnotalone">
Refer to <a class="xref" href="pgtcl-loading.html" title="Chapter 3. Loading pgtcl into an Application">Chapter 3, <i>Loading <span class="application">pgtcl</span> into an Application</i></a> for information about using these
from your application.
</span>
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
The MinGW Makefile does not currently contain installation commands.
  </p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pgtcl-make-bcc.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="pgtcl-make.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="pgtcl-make-macos.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">2.2. Building and Installing on Windows Systems (Borland Compiler) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 2.4. Building and Installing on MacOS 10</td></tr></table></div></body></html>
